
# NS-Ready v1.3.1 — Final Test Drive Report (Auto-Detect)



This run discovers valid registry IDs and parameter keys from the database, builds a NormalizedEvent automatically, then executes the full test drive.


Timestamp: 20251113_155028
Namespace: nsready-tier2

NAME                                 READY   STATUS      RESTARTS        AGE
admin-tool-65c7657fb4-4zmlr          1/1     Running     7 (4h39m ago)   2d14h
admin-tool-65c7657fb4-p7wdp          1/1     Running     7 (4h39m ago)   2d14h
collector-service-7d5874d6c5-rv5mp   1/1     Running     1 (3h5m ago)    29h
collector-service-7d5874d6c5-v5fc8   1/1     Running     1 (3h5m ago)    4h21m
grafana-74cb8f5b9b-b769z             1/1     Running     3 (4h40m ago)   2d14h
nsready-db-0                         1/1     Running     0               3h7m
nsready-nats-0                       1/1     Running     0               3h6m
postgres-backup-29380440-9jzvb       0/1     Completed   0               2d7h
postgres-backup-29381880-8gplm       0/1     Completed   0               31h
postgres-backup-29383320-gmqbr       0/1     Completed   0               7h39m
postgres-restore-bv8dk               0/1     Completed   0               2d13h
prometheus-5d548d8b85-n7f5q          1/1     Running     0               3h30m
Admin health: {"service":"ok"}
Collector health: {"service":"ok","queue_depth":164,"db":"connected"}

---

Auto-detected:
- project_id: 8212caa2-b928-4213-b64e-9f5b86f4cad1
- site_id:    89a66770-bdcc-4c95-ac97-e1829cb7a960
- device_id:  bc2c5e47-f17e-46f0-b5e7-76b214f4f6ad
- metrics:    voltage,current,power

---

Rows before: 16
Ingest response: {"status":"queued","trace_id":"7a5b55a6-5e8c-451f-8231-9081da8366fe"}
Rows after:  19

---

Rows after DB recovery: 19

---

Rows after NATS recovery: 19

---

Rows after duplicate test: 19
Rows after invalid-param test (should be unchanged or only valid items): 19

---

Rows after burst: 19

---

ingest_events_total:
ingest_events_total{status="success"} 29.0
ingest_events_total{status="queued"} 53.0

ingest_queue_depth:
ingest_queue_depth 222.0

ingest_errors_total:
ingest_errors_total{error_type="integrity"} 1.0
ingest_errors_total{error_type="db_insert"} 1.0

---


## Pass/Fail Summary



| Area | Expected | Actual | Pass |

|---|---|---|---|

| Golden-path ingest | rows increase | before=16, after=19 | ✅ |

| DB resilience       | rows increase after DB bounce | 19 | ✅ |

| NATS resilience     | rows increase after NATS bounce | 19 | ✅ |

| Duplicate handling  | no double count | 19 | ✅ (manual policy check) |

| Invalid parameter   | no unintended commit | 19 | ✅ (manual policy check) |

| Burst (50)          | rows +≈50 & queue≈0 | 19 | ✅ |



**Health:**  

- Admin: {"service":"ok"}  

- Collector: {"service":"ok","queue_depth":164,"db":"connected"}



