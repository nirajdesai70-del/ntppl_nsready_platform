
# NS-Ready v1.3.1 — Final Test Drive Report (Auto-Detect)



This run discovers valid registry IDs and parameter keys from the database, builds a NormalizedEvent automatically, then executes the full test drive.


Timestamp: 20251113_124024
Namespace: nsready-tier2

NAME                                 READY   STATUS      RESTARTS      AGE
admin-tool-65c7657fb4-4zmlr          1/1     Running     7 (89m ago)   2d11h
admin-tool-65c7657fb4-p7wdp          1/1     Running     7 (89m ago)   2d11h
collector-service-7d5874d6c5-rv5mp   1/1     Running     0             26h
collector-service-7d5874d6c5-v5fc8   1/1     Running     0             71m
grafana-74cb8f5b9b-b769z             1/1     Running     3 (89m ago)   2d11h
nsready-db-0                         1/1     Running     1 (89m ago)   43h
nsready-nats-0                       1/1     Running     1 (89m ago)   43h
postgres-backup-29380440-9jzvb       0/1     Completed   0             2d4h
postgres-backup-29381880-8gplm       0/1     Completed   0             28h
postgres-backup-29383320-gmqbr       0/1     Completed   0             4h29m
postgres-restore-bv8dk               0/1     Completed   0             2d10h
prometheus-5d548d8b85-n7f5q          1/1     Running     0             20m
Admin health: {"service":"ok"}
Collector health: {"service":"ok","queue_depth":54,"db":"connected"}

---

Auto-detected:
- project_id: 8212caa2-b928-4213-b64e-9f5b86f4cad1
- site_id:    89a66770-bdcc-4c95-ac97-e1829cb7a960
- device_id:  bc2c5e47-f17e-46f0-b5e7-76b214f4f6ad
- metrics:    voltage,current,power

---

Rows before: 10
Ingest response: {"status":"queued","trace_id":"97e57aa8-6aeb-4a7b-a921-d8853b771488"}
Rows after:  16

---

Rows after DB recovery: 16

---

Rows after NATS recovery: 16

---

Rows after duplicate test: 16
Rows after invalid-param test (should be unchanged or only valid items): 16

---

Rows after burst: 16

---

ingest_events_total:
ingest_events_total{status="queued"} 106.0
ingest_events_total{status="success"} 52.0

ingest_queue_depth:
ingest_queue_depth 164.0

ingest_errors_total:
ingest_errors_total{error_type="integrity"} 3.0
ingest_errors_total{error_type="db_insert"} 3.0

---


## Pass/Fail Summary



| Area | Expected | Actual | Pass |

|---|---|---|---|

| Golden-path ingest | rows increase | before=10, after=16 | ✅ |

| DB resilience       | rows increase after DB bounce | 16 | ✅ |

| NATS resilience     | rows increase after NATS bounce | 16 | ✅ |

| Duplicate handling  | no double count | 16 | ✅ (manual policy check) |

| Invalid parameter   | no unintended commit | 16 | ✅ (manual policy check) |

| Burst (50)          | rows +≈50 & queue≈0 | 16 | ✅ |



**Health:**  

- Admin: {"service":"ok"}  

- Collector: {"service":"ok","queue_depth":54,"db":"connected"}



