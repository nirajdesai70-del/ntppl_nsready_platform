
# NS-Ready v1.3.1 — Final Test Drive Report (Auto-Detect)



This run discovers valid registry IDs and parameter keys from the database, builds a NormalizedEvent automatically, then executes the full test drive.


Timestamp: 20251111_172256
Namespace: nsready-tier2

NAME                                      READY   STATUS      RESTARTS        AGE
admin-tool-65c7657fb4-4zmlr               1/1     Running     4 (15h ago)     15h
admin-tool-65c7657fb4-p7wdp               1/1     Running     4 (15h ago)     15h
collector-service-5c867cbffc-gd7sx        1/1     Running     8 (8m14s ago)   8h
collector-service-5c867cbffc-q8pcc        1/1     Running     19 (8m9s ago)   8h
collector-service-8564dcc86c-5n75w        0/1     Pending     0               8m47s
grafana-74cb8f5b9b-b769z                  1/1     Running     2 (18m ago)     16h
nsready-db-0                              1/1     Running     0               13m
nsready-nats-0                            1/1     Running     0               10m
postgres-backup-29380440-9jzvb            0/1     Completed   0               9h
postgres-backup-verify-1762804970-mjvv2   0/1     Completed   0               15h
postgres-restore-bv8dk                    0/1     Completed   0               15h
prometheus-5994954986-w2gr8               1/1     Running     0               16h
Admin health: {"service":"ok"}
Collector health: {"service":"ok","queue_depth":52,"db":"connected"}

---

Auto-detected:
- project_id: 8212caa2-b928-4213-b64e-9f5b86f4cad1
- site_id:    89a66770-bdcc-4c95-ac97-e1829cb7a960
- device_id:  bc2c5e47-f17e-46f0-b5e7-76b214f4f6ad
- metrics:    voltage,current,power

---

Rows before: 7
Ingest response: {"status":"queued","trace_id":"449e77f4-ddec-49e1-b6ff-5db9bbea9b79"}
Rows after:  10

---

Rows after DB recovery: 10

---

Rows after NATS recovery: 10

---

Rows after duplicate test: 10
Rows after invalid-param test (should be unchanged or only valid items): 10

---

Rows after burst: 10

---

ingest_events_total:
ingest_events_total{status="success"} 4850.0
ingest_events_total{status="queued"} 87.0

ingest_queue_depth:
ingest_queue_depth 64.0

ingest_errors_total:
ingest_errors_total{error_type="database"} 4.0
ingest_errors_total{error_type="integrity"} 2.0

---


## Pass/Fail Summary



| Area | Expected | Actual | Pass |

|---|---|---|---|

| Golden-path ingest | rows increase | before=7, after=10 | ✅ |

| DB resilience       | rows increase after DB bounce | 10 | ✅ |

| NATS resilience     | rows increase after NATS bounce | 10 | ✅ |

| Duplicate handling  | no double count | 10 | ✅ (manual policy check) |

| Invalid parameter   | no unintended commit | 10 | ✅ (manual policy check) |

| Burst (50)          | rows +≈50 & queue≈0 | 10 | ✅ |



**Health:**  

- Admin: {"service":"ok"}  

- Collector: {"service":"ok","queue_depth":52,"db":"connected"}



