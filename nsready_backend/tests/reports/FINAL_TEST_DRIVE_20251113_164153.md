
# NS-Ready v1.3.1 — Final Test Drive Report (Auto-Detect)



This run discovers valid registry IDs and parameter keys from the database, builds a NormalizedEvent automatically, then executes the full test drive.


Timestamp: 20251113_164153
Namespace: nsready-tier2

NAME                                READY   STATUS    RESTARTS   AGE
admin-tool-f665579cb-pn5pg          1/1     Running   0          9m2s
admin-tool-f665579cb-s78bf          1/1     Running   0          9m15s
collector-service-7bd7ff76b-gwr5w   1/1     Running   0          12m
collector-service-7bd7ff76b-kjghx   1/1     Running   0          12m
nsready-db-0                        1/1     Running   0          13m
nsready-nats-0                      1/1     Running   0          13m
Admin health: {"service":"ok"}
Collector health: {"service":"ok","queue_depth":0,"db":"connected","queue":{"consumer":"ingest_workers","pending":0,"ack_pending":0,"redelivered":0,"waiting_pulls":2}}

---

Auto-detected:
- project_id: df6b1fa6-8186-4296-96fe-ed8eada56aee
- site_id:    b8ffe883-1b21-43de-91bf-64255b89a7b5
- device_id:  096d95f5-d856-44cd-81c9-14cdded8e48e
- metrics:    voltage,current,frequency

---

Rows before: 0
Ingest response: {"status":"queued","trace_id":"bd633ad3-46fb-4bee-9cba-a9e53b86adfe"}
Rows after:  3

---

Rows after DB recovery: 3

---

Rows after NATS recovery: 3

---

Rows after duplicate test: 3
Rows after invalid-param test (should be unchanged or only valid items): 3

---

Rows after burst: 3

---

ingest_events_total:
ingest_events_total{status="queued"} 53.0
ingest_events_total{status="success"} 23.0

ingest_queue_depth:
ingest_queue_depth 0.0

ingest_errors_total:
ingest_errors_total{error_type="integrity"} 2.0
ingest_errors_total{error_type="db_insert"} 2.0

---


## Pass/Fail Summary



| Area | Expected | Actual | Pass |

|---|---|---|---|

| Golden-path ingest | rows increase | before=0, after=3 | ✅ |

| DB resilience       | rows increase after DB bounce | 3 | ✅ |

| NATS resilience     | rows increase after NATS bounce | 3 | ✅ |

| Duplicate handling  | no double count | 3 | ✅ (manual policy check) |

| Invalid parameter   | no unintended commit | 3 | ✅ (manual policy check) |

| Burst (50)          | rows +≈50 & queue≈0 | 3 | ✅ |



**Health:**  

- Admin: {"service":"ok"}  

- Collector: {"service":"ok","queue_depth":0,"db":"connected","queue":{"consumer":"ingest_workers","pending":0,"ack_pending":0,"redelivered":0,"waiting_pulls":2}}



