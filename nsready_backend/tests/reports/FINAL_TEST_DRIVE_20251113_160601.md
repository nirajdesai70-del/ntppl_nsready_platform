
# NS-Ready v1.3.1 — Final Test Drive Report (Auto-Detect)



This run discovers valid registry IDs and parameter keys from the database, builds a NormalizedEvent automatically, then executes the full test drive.


Timestamp: 20251113_160601
Namespace: nsready-tier2

NAME                                READY   STATUS      RESTARTS        AGE
admin-tool-65c7657fb4-4zmlr         1/1     Running     7 (4h54m ago)   2d14h
admin-tool-65c7657fb4-p7wdp         1/1     Running     7 (4h55m ago)   2d14h
collector-service-7596c9b68-2kdvg   1/1     Running     0               3m4s
collector-service-7596c9b68-89t2b   1/1     Running     0               2m52s
grafana-74cb8f5b9b-b769z            1/1     Running     3 (4h55m ago)   2d14h
nsready-db-0                        1/1     Running     0               13m
nsready-nats-0                      1/1     Running     0               11m
postgres-backup-29380440-9jzvb      0/1     Completed   0               2d7h
postgres-backup-29381880-8gplm      0/1     Completed   0               32h
postgres-backup-29383320-gmqbr      0/1     Completed   0               7h54m
postgres-restore-bv8dk              0/1     Completed   0               2d14h
prometheus-5d548d8b85-n7f5q         1/1     Running     0               3h46m
Admin health: {"service":"ok"}
Collector health: {"service":"ok","queue_depth":222,"db":"connected","queue":{"consumer":"ingest_workers","pending":0,"ack_pending":0,"redelivered":2,"waiting_pulls":2}}

---

Auto-detected:
- project_id: 8212caa2-b928-4213-b64e-9f5b86f4cad1
- site_id:    89a66770-bdcc-4c95-ac97-e1829cb7a960
- device_id:  bc2c5e47-f17e-46f0-b5e7-76b214f4f6ad
- metrics:    voltage,current,power

---

Rows before: 19
Ingest response: {"status":"queued","trace_id":"cf5a430c-1cd6-4c95-bb98-523d81e31192"}
Rows after:  22

---

Rows after DB recovery: 22

---

Rows after NATS recovery: 22

---

Rows after duplicate test: 22
Rows after invalid-param test (should be unchanged or only valid items): 22

---

Rows after burst: 22

---

ingest_events_total:
ingest_events_total{status="queued"} 54.0

ingest_queue_depth:
ingest_queue_depth 54.0

ingest_errors_total:
ingest_errors_total{error_type="database"} 2.0

---


## Pass/Fail Summary



| Area | Expected | Actual | Pass |

|---|---|---|---|

| Golden-path ingest | rows increase | before=19, after=22 | ✅ |

| DB resilience       | rows increase after DB bounce | 22 | ✅ |

| NATS resilience     | rows increase after NATS bounce | 22 | ✅ |

| Duplicate handling  | no double count | 22 | ✅ (manual policy check) |

| Invalid parameter   | no unintended commit | 22 | ✅ (manual policy check) |

| Burst (50)          | rows +≈50 & queue≈0 | 22 | ✅ |



**Health:**  

- Admin: {"service":"ok"}  

- Collector: {"service":"ok","queue_depth":222,"db":"connected","queue":{"consumer":"ingest_workers","pending":0,"ack_pending":0,"redelivered":2,"waiting_pulls":2}}



