table: parameter_templates
purpose: Parameter definitions (measurements/tags) for all projects.

owners:
  data_owner: data-eng@groupnish
  steward: scada-team@groupnish

consumers: [scada-team@groupnish, nsware-platform@groupnish]

schema:
  - name: id
    type: uuid
    semantics: Primary key
    constraints: [not_null, primary_key]
  
  - name: key
    type: text
    semantics: Unique parameter identifier (format: project:<project_uuid>:<parameter_name_lowercase_with_underscores>)
    constraints: [not_null, unique]
  
  - name: name
    type: text
    semantics: Human-readable parameter name
    constraints: [not_null]
  
  - name: unit
    type: text
    semantics: Engineering unit (e.g., "V", "A", "kW", "Â°C", "%")
    constraints: []
  
  - name: metadata
    type: jsonb
    semantics: Additional metadata (dtype, min_value, max_value, required, description, project_id)
    constraints: []
  
  - name: created_at
    type: timestamptz
    timezone: UTC
    semantics: Creation timestamp
    constraints: [not_null]

primary_key: [id]

privacy:
  pii: false

sla:
  cadence: on-demand
  delivery_deadline: "N/A (configuration data)"

quality_rules:
  null_pct_max:
    value: 0.0
  duplicate_policy:
    description: "key must be unique across all projects"

tenant_model:
  rule: "tenant_id = customer_id"
  rationale: "Ensures clean cross-customer isolation and future multi-tenant NSWare compatibility."
  enforcement: "Tenant is derived automatically from project/site/device ownership."

changes:
  process: "PR to /contracts/nsready/parameter_templates.yaml with approvals from data + SCADA owner"
  breaking_change_notice_days: 30

version: 1.0.0
changelog: "/contracts/nsready/parameter_templates_changelog.md"

